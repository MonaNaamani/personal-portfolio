---
import MusicPlayer from '../components/MusicPlayer.astro'
import '../styles/global.css'
---

<html lang='en'>
  <head>
    <meta charset='utf-8' />
    <meta name='author' content='Mona Naamani' />
    <link rel='icon' type='image/svg+xml' href='/favicon.svg' />
    <meta name='viewport' content='width=device-width' />
    <meta name='generator' content={Astro.generator} />
    <title>Mona Naamani || Portfolio</title>
  </head>
  <body>
    <nav class='navbar'>
      <ul class='right-links'>
        <li><a class='header-link' href='#about-me'> About Me </a></li>
        <li>
          <a class='header-link' href='#featured-work'> Featured Work </a>
        </li>
        <li><a class='header-link' href='#'> Contact Me </a></li>
      </ul>
      <div>
        <MusicPlayer />
      </div>
    </nav>
    <main>
      <slot/>
    </main>
    <div class='footer'>Copyright Â© Mona Naamani 2024</div>
    <script>
      // Event listeners
      playBtn.addEventListener('click', () => {
        const isPlaying = musicContainer.classList.contains('play')

        if (isPlaying) {
          pauseSong()
        } else {
          playSong()
        }
      })

      // Change song events

      prevBtn.addEventListener('click', prevSong)
      nextBtn.addEventListener('click', nextSong)

      audio.addEventListener('timeupdate', updateProgress)

      progressContainer.addEventListener('click', setProgress)

      audio.addEventListener('ended', nextSong)

      // Scroll Animations

      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          console.log(entry)
          if (entry.isIntersecting) {
            entry.target.classList.add('show')
          } else {
            entry.target.classList.remove('show')
          }
        })
      })

      const hiddenElements = document.querySelectorAll('.hidden')
      hiddenElements.forEach((el) => observer.observe(el))
    </script>
  </body>
</html>